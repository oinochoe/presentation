<!doctype html>
<html lang="ko">

<head>
	<meta charset="utf-8">
	<title>06장 AOP</title>
	<meta name="description" content="`TOBY BOOK` Presentation">
	<meta name="author" content="Yeongmin Kim">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no minimal-ui">

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/ngle.css" id="theme">

	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/zenburn.css">
	<link rel="stylesheet" href="css/custom.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>

	<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
</head>

<body>
	<div class="logo"><img src="./img/logo_dark.png" alt=""></div>
	<div class="reveal">
		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
			<section>
				<h1>6장 AOP</h1>
				<p>
					<small>Created by <a href="https://github.com/oinochoe/" target="_blank">Yeongmin Kim</a></small>
				</p>
			</section>
			<section data-transition="convex">
				<h2>목차</h2>
				<p>6.5 스프링 AOP</p>
				<p>6.5 스프링 AOP</p>
				<p>6.5 스프링 AOP</p>
				<p>6.5 스프링 AOP</p>
				<p>정리</p>
			</section>

			<section>
				<section data-transition="concave">
					<!-- 
					<iframe src="http://tpcg.io/77g1Z3
				" frameborder="0"></iframe> -->
				</section>
			</section>
			<section>
				<section>
					<h4>2.1.2 UserDaoTest의 특징</h4>
					<pre><code class="hljs" data-trim>public class UserDaoTest {
	public static void main(String[] args) throws ClassNotFoundException, SQLException {
		ApplicationContext context  = new GenericXmlApplicationContext("applicationContext.xml");

		UserDao dao = context.getBean("userDao", UserDao.class);

		User user = new User();
		user.setId("Triumph");
		user.setName("김영민");
		user.setPassword("married");

		dao.add(user);

		System.out.println(user.getId() + "등록성공");

		User user2 = dao.get(user.getId());
		System.out.println(user2.getName());
		System.out.println(user2.getPassword());

		System.out.println(user2.getId() + "조회 성공");
	}
}</code></pre>
				</section>
				<section>
					<ol>
						<li>자바에서 가장 손쉽게 실행 가능한 main() 메소드</li>
						<li>UserDao의 오브젝트를 가져와서 메소드를 호출한다.</li>
						<li>테스트에 사용할 입력 값(User 오브젝트)을 직접 코드에서 만들어 넣어준다.</li>
						<li>테스트의 결과를 <span class="aquas">콘솔</span>에 출력한다.</li>
						<li>각 단계의 작업이 에러 없이 끝나면 <span class="aquas">콘솔</span>에 성공 메시지로 출력해준다.</li>
					</ol>
				</section>
			</section>
			<section data-transition="concave">
				<section>
					<h4>정리</h4>
					<p>트랜잭션 경계설정 기능을 성격이 다른 비즈니스 로직 클래스에서 분리하고 유연하게 적용할 수 있는 방법을 찾아보면서 애플리케이션에 산재해서 나타나는 부가기능을 모듈화 할 수 있는 AOP기술을 알아봤다.</p>
				</section>
			</section>
			<section data-transition="concave">
				<section>
					<ul>
						<li>트랜잭션 경계설정 코드를 분리해서 별도의 클래스로 만들고 비즈니스 로직 클래스와 동일한 인터페이스를 구현하면 DI의 확장 기능을 이용해 클라이언트의 변경 없이도 깔끔하게 분리된 트랜잭션 부가기능을
							만들 수 있다.</li>

						<li>트랜잭션처럼 환경과 외부 리소스에 영향을 받는 코드를 분리하면 비즈니스 로직에만 충실한 테스트를 만들 수 있다.</li>

						<li>목 오브젝트를 활용하면 의존관계 속에 있는 오브젝트도 손쉽게 고립된 테스트로 만들 수 있다.</li>

						<li>DI를 이용한 트랜잭션의 분리는 데코레이터 패턴과 프록시 패턴으로 이해될 수 있다.</li>

						<li>번거로운 프록시 클래스 작성은 JDK의 다이내믹 프록시를 사용하면 간단하게 만들 수 있다.</li>

						<li>다이내믹 프록시는 스태틱 팩토리 메소드를 사용하기 때문에 빈으로 등록하기 번거롭다. 따라서 팩토리 빈으로 만들어야 한다. 스프링은 자동 프록시 생성 기술에 대한 추상화 서비스를 제공하는 프록시
							팩토리 빈을 제공한다.</li>
					</ul>
				</section>
			</section>
			<section data-transition="concave">
				<section>
					<ul>


						<li>프록시 팩토리의 빈의 설정이 반복되는 문제를 해결하기 위해 자동 프록시 생성기와 포인트컷을 활용할 수 있다. 자동 프록시 생성기는 부가기능이 담긴 어드바이스를 제공하는 프록시를 스프링 컨테이너
							초기화 시점에 자동으로 만들어준다.</li>

						<li>포인트컷은 AspectJ 포인트컷 표현식을 사용해서 작성하면 편리하다.</li>

						<li>AOP는 OOP만으로는 모듈화되기 힘든 부가기능을 효과적으로 모듈화하도록 도와주는 기술이다.</li>

						<li>스프링은 자주 사용되는 AOP 설정과 트랜잭션 속성을 지정하는 데 사용할 수 있는 전용 태그를 제공한다.</li>

						<li>AOP를 이용해 트랜잭션 속성을 지정하는 방법에는 포인트컷 표현식과 메소드 이름 패턴을 이용하는 방법과 타깃에 직접 부여하는 @Transactional 애노테이션을 사용하는 방법이 있다.</li>

						<li>@Transactional을 이용한 트랜잭션 속성을 테스트에 적용하면 손쉽게 DB를 사용하는 코드의 테스트를 만들 수 있다.</li>
					</ul>

				</section>
			</section>
			<section class="no-logo" data-background="http://i.giphy.com/90F8aUepslB84.gif" data-transition="concave">
				<h1>끝</h1>
			</section>
		</div>
	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		Reveal.initialize({
			controls: true,
			progress: true,
			history: true,
			center: true,
			//Add options to print PDF
			pdfSeparateFragments: false,
			pdf: true,
			slideNumber: 'c/t',
			pdfMaxPagesPerSlide: 1,
			// Parallax background image
			//parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg', // e.g. "https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg"

			// Parallax background size
			//parallaxBackgroundSize: '2100px 900px', // CSS syntax, e.g. "2100px 900px" - currently only pixels are supported (don't use % or auto)

			// Number of pixels to move the parallax background per slide
			// - Calculated automatically unless specified
			// - Set to 0 to disable movement along an axis
			parallaxBackgroundHorizontal: 200,
			parallaxBackgroundVertical: 50,

			transition: 'slide', // none/fade/slide/convex/concave/zoom
			// Shows the slide number using default formatting
			// More info https://github.com/hakimel/reveal.js#dependencies
			dependencies: [{
					src: 'lib/js/classList.js',
					condition: function () {
						return !document.body.classList;
					}
				},
				{
					src: 'plugin/markdown/marked.js',
					condition: function () {
						return !!document.querySelector('[data-markdown]');
					}
				},
				{
					src: 'plugin/markdown/markdown.js',
					condition: function () {
						return !!document.querySelector('[data-markdown]');
					}
				},
				{
					src: 'plugin/highlight/highlight.js',
					async: true,
					callback: function () {
						hljs.initHighlightingOnLoad();
					}
				},
				{
					src: 'plugin/search/search.js',
					async: true
				},
				{
					src: 'plugin/zoom-js/zoom.js',
					async: true
				},
				{
					src: 'plugin/notes/notes.js',
					async: true
				}
			]
		});
		Reveal.addEventListener('ready', function (event) {
			if (event.currentSlide.classList == 'no-logo present') {
				document.body.classList.add('off');
			} else {
				document.body.classList.remove('off');
			}
		});
		Reveal.addEventListener('slidechanged', function (event) {
			if (event.currentSlide.classList == 'no-logo present') {
				document.body.classList.add('off');
			} else {
				document.body.classList.remove('off');
			}
		});
	</script>

</body>

</html>